<?xml version="1.0" encoding="UTF-8"?><rss><channel><title>Teoten's blog</title><link rel="self" href="https://blog.teoten.com/index.xml/" type="application/rss+xml">https://blog.teoten.com</link><description>Recent content on Teoten's blog</description><language>en</language><updated>Tue Oct 08 02:00:00 CEST 2024</updated><lastBuildDate>Mon Oct 21 16:46:52 CEST 2024</lastBuildDate><item><title>Building my blog from scratch</title><link href="https://blog.teoten.com/posts/2024/building_my_blog_from_scratch/">https://blog.teoten.com/posts/2024/building_my_blog_from_scratch/</link><pubDate>Tue Oct 08 02:00:00 CEST 2024</pubDate><author>Teoten</author><guid></guid><categories>clojure, web-dev, </categories><description type="html">&lt;article id="post-/posts/2024/building_my_blog_from_scratch/" data-post-id="/posts/2024/building_my_blog_from_scratch/"&gt;&lt;div&gt;
 &lt;span&gt;
  &lt;/span&gt;&lt;p&gt;&lt;span&gt;For the last 4 years, my personal blog was built using &lt;a href="https://gohugo.io/"&gt;Hugo&lt;/a&gt;, one of the most popular static site generators. Back then I wanted to just start writing content about R and publish it quickly and easily into my own blog. It worked out well, since Hugo is an excellent tool for quickly spinning up a static site. However, over time, I began to feel restricted by its framework and frustrated by the bugs, and decided to take on the challenge of building my blog from scratch. The journey has not only given me more control but has also helped me sharpen my skills in web development, specifically in Clojure. &lt;/span&gt;&lt;/p&gt;
  &lt;p&gt;Here I want to share and register part of the experience to look back in a few years time and to inspire others to take the same challenge. I really get a gratifying feeling each time I build some service on my own.&lt;/p&gt;
  &lt;p&gt;&lt;span&gt;You can have a look at the source code on &lt;a href="https://github.com/teotenn"&gt;my github&lt;/a&gt; under the repo &lt;a href="https://github.com/teotenn/blog.teoten.com"&gt;blog.teoten.com&lt;/a&gt;. &lt;/span&gt;&lt;/p&gt;
 &lt;h1 class="article-header"&gt;Why Move Away from Hugo?&lt;/h1&gt;&lt;span&gt;
  &lt;/span&gt;&lt;p&gt;Hugo offers a fantastic set of features out of the box: it's fast, flexible, and supports a variety of formats like Markdown and Org-mode, making it an ideal tool for many developers. However, as my blog evolved, I started to encounter some limitations that motivated me to look for a more personalized solution.&lt;/p&gt;
  &lt;p&gt;It happened a few times that, without updating anything in particular, I was getting bugs about some specific line of code in a template, or even weirder bugs that I did not understand. I managed to solved them by rolling back or opening issues in the GitHub repositories and receiving support.&lt;/p&gt;
  &lt;p&gt;Nevertheless, a couple of weeks ago, after a long break from publishing due to family duties, I came back full of inspiration, wishing to share my new learned skills in Clojure, just to encounter one more bug related to the templates. Only that this time I told myself that it was enough, and that it shouldn't be so difficult to build my own site with such a great tool as Clojure. So, I decided to say goodbye to Hugo for good.&lt;/p&gt;
 &lt;h2 class="article-header"&gt;Disadvantages of Using a Framework Like Hugo&lt;/h2&gt;&lt;span&gt;&lt;span&gt;
   &lt;/span&gt;&lt;/span&gt;&lt;p&gt;I am left very thankful to Hugo and all the team behind it, as well as the big bunch of people creating themes and sharing them for free. It is a very nice community that hold my project for 4 full years with minimal frustrations. I would totally recommend Hugo to any person wishing to start a blog quickly and easily without knowledge of the stack, or even with very little knowledge of programming in general.&lt;/p&gt;
   &lt;p&gt;However, as any framework, it also has its own disadvantages. In my experience, these were some of them:&lt;/p&gt;
  &lt;ul&gt;
   &lt;li&gt;
    &lt;p&gt;Lack of Control: Hugo abstracts away a lot of complexity, which is great when you're just starting out. But this abstraction comes at a cost. When things break, whether it's related to a theme, the build process, or some obscure plugin, you're often left in the dark. Debugging can become frustrating without full knowledge of what's happening under the hood.&lt;/p&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;ul&gt;
   &lt;li&gt;
    &lt;p&gt;Theme Dependency: The reliance on external themes was another drawback. While themes provide flexibility, they often contain extra features that I didn't need, and customizing them wasn't always straightforward. I found myself constantly searching for fixes to theme-related issues, which added unnecessary complexity.&lt;/p&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;ul&gt;
   &lt;li&gt;
    &lt;p&gt;Stack Ignorance: Hugo is written in Go, a language I am not familiar with. While I could use it without knowing the language, I felt disconnected from my own website's build process. This lack of deeper understanding led me to feel like I didn't truly own my site's stack.&lt;/p&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;ul&gt;
   &lt;li&gt;
    &lt;p&gt;Feature Overload: Hugo provides an overwhelming number of features, many of which I never used. I began to crave a more lightweight, minimalist solution where I had full control over every aspect of the site.&lt;/p&gt;&lt;/li&gt;
  &lt;/ul&gt;
 &lt;h2 class="article-header"&gt;What I Wanted Instead:&lt;/h2&gt;&lt;span&gt;
  &lt;/span&gt;&lt;ul&gt;
   &lt;li&gt;
    &lt;p&gt;&lt;span&gt;&lt;strong&gt;More Control&lt;/strong&gt;: By building my own static site generator, I could understand every line of code, making it easier to troubleshoot and customize exactly the way I wanted. &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;ul&gt;
   &lt;li&gt;
    &lt;p&gt;&lt;span&gt;&lt;strong&gt;Improved Skills&lt;/strong&gt;: I wanted to challenge myself and improve my coding skills, particularly with clojure, frontend development, as well as learn more about search engine optimization (SEO). &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;ul&gt;
   &lt;li&gt;
    &lt;p&gt;&lt;span&gt;&lt;strong&gt;Ownership of the Stack&lt;/strong&gt;: Rather than relying on a pre-built framework, I wanted to fully understand and control the process of converting content into a static website. &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;p&gt;Therefore, I embarked myself in a pretty fun journey of building my own site.&lt;/p&gt;
 &lt;h1 class="article-header"&gt;Using clojure to build a static site&lt;/h1&gt;&lt;span&gt;
  &lt;/span&gt;&lt;p&gt;I started learning Clojure at the beginning of 2024, and it's been fascinating. It has many of the qualities of the Lisp languages, which taught me functional programming and give me my everyday coding tools (Emacs), but it comes with some advantages by being host in the JVM and thanks to its native design to overcome some of the downsides of Common Lisp. Therefore, it was a natural choice for building my blog.&lt;/p&gt;
  &lt;p&gt;&lt;span&gt;My first search for resources to get started showed me that there are a few good frameworks to build static websites and blogs with Clojure as well. But since frameworks was one of the things I wanted to avoid, I went on looking. I found this &lt;a href="https://cjohansen.no/building-static-sites-in-clojure-with-stasis/"&gt;excellent tutorial&lt;/a&gt; by &lt;a href="https://cjohansen.no/"&gt;Christian Johansen&lt;/a&gt; about building with &lt;a href="https://github.com/magnars/stasis"&gt;stasis&lt;/a&gt; and followed it to have my first site generator up and running after one evening of coding. However, his tutorial does not give me half of the tools I needed and wanted to use. It is based on markdown files, which I use, but I use org too. It is built using &lt;a href="https://leiningen.org/"&gt;leiningen&lt;/a&gt; and I wanted to use the built in &lt;a href="https://clojure.org/guides/deps_and_cli"&gt;CLI and deps.edn&lt;/a&gt;&lt;span&gt;. I was also wishing to generate an RSS feed in xml, to have a &lt;code&gt;config.edn&lt;/code&gt; file and set up environments, among others. &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
  &lt;p&gt;After initializing a git repo with the guide, I moved forward on my own and started crafting pieces here and there. This approach gave me the flexibility I was craving and the chance to dive deeper into programming concepts I hadn't previously explored.&lt;/p&gt;
 &lt;h2 class="article-header"&gt;My personal Stack&lt;/h2&gt;&lt;span&gt;
  &lt;/span&gt;&lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:paths&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;"src"&lt;/span&gt; &lt;span class="s"&gt;"resources"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

 &lt;span class="ss"&gt;:deps&lt;/span&gt;  &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;org.clojure/clojure&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"1.11.1"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;stasis/stasis&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"2023.11.21"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;hiccup/hiccup&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"2.0.0-RC3"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;ring/ring-core&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"1.12.2"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;ring/ring-jetty-adapter&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"1.12.2"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;markdown-clj/markdown-clj&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"1.12.1"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;optimus/optimus&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"2023.11.21"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;enlive/enlive&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"1.1.6"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;clygments/clygments&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt;  &lt;span class="s"&gt;"2.0.2"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;org.jsoup/jsoup&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"1.18.1"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;cprop/cprop&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"0.1.20"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;selmer/selmer&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"1.12.61"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;clj-time/clj-time&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt;  &lt;span class="s"&gt;"0.15.2"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;org.clojure/data.xml&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"0.0.8"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;hickory/hickory&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"0.7.1"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="nv"&gt;clj-org/clj-org&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"0.0.3"&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;

 &lt;span class="ss"&gt;:aliases&lt;/span&gt;
 &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:dev&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:extra-paths&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;"dev"&lt;/span&gt;&lt;span class="p"&gt;]}&lt;/span&gt;
  &lt;span class="c1"&gt;;; Call with `clj -X:build-site`&lt;/span&gt;
  &lt;span class="ss"&gt;:build-site&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:exec-fn&lt;/span&gt; &lt;span class="nv"&gt;teoten.ttblog.core/-main&lt;/span&gt;
               &lt;span class="ss"&gt;:exec-args&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:env&lt;/span&gt; &lt;span class="ss"&gt;:builder&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
  &lt;span class="c1"&gt;;; clj -X:test&lt;/span&gt;
  &lt;span class="ss"&gt;:test&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:extra-paths&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;"test"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
         &lt;span class="ss"&gt;:extra-deps&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;lambdaisland/kaocha&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:mvn/version&lt;/span&gt; &lt;span class="s"&gt;"1.91.1392"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
                      &lt;span class="c1"&gt;;; midje/midje {:mvn/version "1.10.10"}&lt;/span&gt;
                      &lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="ss"&gt;:exec-fn&lt;/span&gt; &lt;span class="nv"&gt;kaocha.runner/exec-fn&lt;/span&gt;
         &lt;span class="ss"&gt;:exec-args&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;:skip-meta&lt;/span&gt; &lt;span class="ss"&gt;:slow&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
  &lt;span class="p"&gt;}}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;span&gt;
   &lt;/span&gt;&lt;p&gt;Here's a quick breakdown of my stack:&lt;/p&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;&lt;span&gt;Content Parsing: I'm using Markdown, &lt;a href="https://orgmode.org/"&gt;Org-mode&lt;/a&gt;, and raw HTML files generated by the native org-mode on Emacs. These three formats are then parsed into HTML using tools like &lt;a href="https://github.com/yogthos/markdown-clj"&gt;markdown-clj&lt;/a&gt; and &lt;a href="https://github.com/eigenhombre/clj-org"&gt;clj-org&lt;/a&gt;, which handle the different content types effortlessly. Furthermore, I can choose between using a plain org file, or its resulted parsed file in html format. This helps me to overcome some of the limitations of the clojure org parser (which are many) and allows me to use the power of Emacs and org-mode themselves. &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
   &lt;/ul&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;&lt;span&gt;Static Site Generation: The core of my site generation relies on &lt;a href="https://github.com/magnars/stasis"&gt;stasis&lt;/a&gt;, a minimalistic Clojure library for creating static websites. It handles routing, file generation, and serves as the glue that ties the content to the final HTML pages. &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
   &lt;/ul&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;&lt;span&gt;HTML Templating: I'm using &lt;a href="https://github.com/yogthos/Selmer"&gt;Selmer&lt;/a&gt; for HTML templating and &lt;a href="https://github.com/weavejester/hiccup"&gt;Hiccup&lt;/a&gt;/&lt;a href="https://github.com/clj-commons/hickory"&gt;Hickory&lt;/a&gt; for DOM manipulation. These tools give me fine-grained control over how my pages are structured and rendered. &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
   &lt;/ul&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;&lt;span&gt;RSS Generation: I generate the blog's RSS feed with Clojure's &lt;a href="https://github.com/clojure/data.xml"&gt;data.xml&lt;/a&gt; library, ensuring that my content can be syndicated properly. &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
   &lt;/ul&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;&lt;span&gt;Functional programming: My builder holds very little state (clojure's &lt;code&gt;atom&lt;/code&gt;) and relies on functions, which allows me to do error handling, unit testing and refactoring like a breeze. Additionally, I can use support of generative AI by simply asking for "a function that takes x arguments to achieve z results", which keeps my mind free of worries about side effects or inheritance, and instead can focus only on the potential bugs and error handling, easily managed by the unit test. &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
   &lt;/ul&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;&lt;span&gt;Server for development: I am using &lt;a href="https://ring-clojure.github.io/ring/ring.adapter.jetty.html"&gt;ring adapter jetty&lt;/a&gt; from the &lt;a href="https://github.com/ring-clojure/ring"&gt;ring&lt;/a&gt; library to have a live view of my blog during development and drafting. This means that I can be typing a new post and see my changes directly on the browser by just refreshing the page. Or refactoring some old functions and after evaluating them, refresh the browser and see the results. &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
   &lt;/ul&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;CSS Styling: One of the most satisfying parts has been designing the CSS for the site from scratch. I have used Bootstrap and Tailwind in the past, but again, frameworks. Using my own custom CSS not only makes the site unique but has also taught me a lot about styling and responsive design.&lt;/p&gt;&lt;/li&gt;
   &lt;/ul&gt;
 &lt;h2 class="article-header"&gt;Challenges&lt;/h2&gt;&lt;span&gt;
  &lt;/span&gt;&lt;p&gt;&lt;span&gt;The first challenge I encountered was the use of &lt;a href="https://github.com/cgrand/enlive"&gt;Enlive&lt;/a&gt; by the tutorial. I followed along, and used some pieces of code from it, which just "worked", but I couldn't wrap my head around it. Since I wanted to have more control over my stack, I went ahead and try to learned it by creating a function to do something specific (at this point I have forgotten what exactly) but I couldn't. I looked into the repository and documentation just to find out that there was an open issue with a similar problem, and it was no solved. Then I realized that the last commit was 5 years ago, and there are 21 open issues at the moment of writing this. &lt;/span&gt;&lt;/p&gt;
  &lt;p&gt;&lt;span&gt;I kept the working code and moved away from Enlive for further DOM manipulation, and found some help for using &lt;a href="https://jsoup.org/"&gt;Jsoup&lt;/a&gt;, a Java library that I can call from Clojure (advantages of JVM hosted). It gave me the tools I needed but I didn't enjoy it as much as writing pure Clojure. Plus, I could barely have the work done, without fully understanding the code I was writing. Luckily, I came across &lt;a href="https://github.com/clj-commons/hickory"&gt;hickory&lt;/a&gt; when I needed to do more manipulation, and it is what I am using now together with &lt;a href="https://github.com/weavejester/hiccup"&gt;hiccup&lt;/a&gt;, which I'm more used to from working with &lt;a href="https://clojurescript.org/"&gt;Clojurescript&lt;/a&gt;. Hickory is more intuitive, documented and clojure-like, providing flexibility in the data structures to work with Hickory or Hiccup-style, both of which are very "clojurist" and are easy to use. &lt;/span&gt;&lt;/p&gt;
  &lt;p&gt;&lt;span&gt;Another big challenge for me was the creation of a custom CSS, which I really wanted to do to improve my skills. So far I had worked with CSS by copying snippets of code, or using Bootstrap or Tailwind and then having a minimal CSS file for granular details. But building the CSS from scratch has been quite a challenge, which I decided to face with the help of generative AI. I been using &lt;a href="https://openai.com/chatgpt/"&gt;ChatGPT&lt;/a&gt; and &lt;a href="https://codeium.com/"&gt;Codeium&lt;/a&gt;&lt;span&gt; to ask for advice, get code snippets and solve problems with my styles. Although challenging, I have learned a great deal about styling with CSS, using variables, responsive design and the importance of the &lt;code&gt;div&lt;/code&gt; tag. &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
 &lt;h1 class="article-header"&gt;The Satisfaction of Building from Scratch&lt;/h1&gt;&lt;span&gt;
  &lt;/span&gt;&lt;p&gt;Building my blog from the ground up has been both fun and educational. I've learned a ton about Clojure, from how to manipulate data structures to leveraging libraries that handle everything from routing to RSS generation. I now understand almost every step of my site generation process (I still need to change a few pieces of Enlive and Jsoup code) and can troubleshoot issues quickly without having to rely on external frameworks.&lt;/p&gt;
  &lt;p&gt;That said, there's still plenty of work ahead. My frontend design is far from polished, and my SEO is still a work in progress. I also need to implement sections for tags and categories to improve content navigation. And the generator itself needs more work in the unit test and error handling. However, despite these shortcomings, I feel incredibly satisfied and fulfilled knowing that I built this system by myself.&lt;/p&gt;
  &lt;p&gt;After following the tutorial from Johansen, I thought that I could have my blog up and running, with minimal functionality, in a week. It anyway took me 2 weeks to reach a version I was satisfied with, which is not long considering that I had my expectations as high as my demands.&lt;/p&gt;
  &lt;p&gt;For anyone considering a similar path, I highly recommend taking the plunge. It's an amazing opportunity to grow as a developer, and the control and customization options you gain are worth the effort. I will share some of my experiences with pieces of the builder as the time goes, but feel free to reach out and ask for directions, support or particular topics you could be interested in.&lt;/p&gt;
&lt;/div&gt;&lt;/article&gt;</description></item><item><title>My first Golem app</title><link href="https://blog.teoten.com/posts/2023/my_first_golem_app/">https://blog.teoten.com/posts/2023/my_first_golem_app/</link><pubDate>Fri Sep 29 02:00:00 CEST 2023</pubDate><author>Teoten</author><guid></guid><categories>R, web-dev, </categories><description type="html">&lt;article id="post-/posts/2023/my_first_golem_app/" data-post-id="/posts/2023/my_first_golem_app/"&gt;&lt;div&gt;
 &lt;h1 class="article-header"&gt;About&lt;/h1&gt;
 &lt;p&gt;A few days ago I finished reading the book &lt;a href="https://engineering-shiny.org/"&gt;Engineering Production-Grade Shiny Apps&lt;/a&gt; by Colin Fay, Sebastien Rochette, Vincent Guyader and Cervan Girard. It was an easy read so, I decided to move forward and create my first &lt;code&gt;shiny&lt;/code&gt; app with &lt;code&gt;golem&lt;/code&gt;. But before doing that I wanted to read some comments or opinions about it and I realized that there is not so much about it outside of the &lt;code&gt;golem&lt;/code&gt; team. Thus, I decided to record my exploration of the package and share it in my blog.&lt;/p&gt;
 &lt;p&gt;Here you will find my opinion about the book and the package, the steps I took and a live example of the app. The post has a lot of lines but it is mostly because I include some of the snippets that come by default with a &lt;code&gt;golem&lt;/code&gt;'s project, as well as my own scripts for the app.&lt;/p&gt;
 &lt;p&gt;I hope that this post can help to some R &lt;code&gt;shiny&lt;/code&gt; users to have an opinion about &lt;code&gt;golem&lt;/code&gt; and save time deciding if this is the framework that can help with their needs. I need to mention that &lt;code&gt;golem&lt;/code&gt; is just a proposition of how a &lt;code&gt;shiny&lt;/code&gt; app should be organized and managed, similar to &lt;a href="https://leprechaun.opifex.org"&gt;leprechaun&lt;/a&gt; and &lt;a href="https://appsilon.github.io/rhino/"&gt;rhino&lt;/a&gt;. There is always the option of following your own, with only &lt;code&gt;shiny&lt;/code&gt; and you selected tools.&lt;/p&gt;
 &lt;h1 class="article-header"&gt;What is shiny golem?&lt;/h1&gt;
 &lt;p&gt;&lt;code&gt;golem&lt;/code&gt; is an opinionated framework to facilitate the creation of robust &lt;code&gt;shiny&lt;/code&gt; apps. In the words of the authors:&lt;/p&gt;
 &lt;blockquote&gt;
  &lt;p&gt;&amp;gt; An opinionated framework for building a production-ready 'Shiny' application. This package contains a series of tools for building a robust 'Shiny' application from start to finish.&lt;/p&gt;
  &lt;p&gt;https://cran.r-project.org/web/packages/golem/index.html&lt;/p&gt;
 &lt;/blockquote&gt;
 &lt;p&gt;The packages contains a series of functions that initialize a &lt;code&gt;shiny&lt;/code&gt; app, creating the files and folders necessary according to the &lt;code&gt;golem&lt;/code&gt; proposition of how it should be structured. The initialization includes default scripts to be modified, scripts to guide you through the usage of the framework, and functions that can be used within the app.&lt;/p&gt;
 &lt;h1 class="article-header"&gt;Engineering Production-Grade Shiny Apps&lt;/h1&gt;
 &lt;p&gt;First of all I have to say that book is not only about &lt;code&gt;golem&lt;/code&gt;. It is rather an excellent book about software engineering for the average R user. In other words, if you have been using R without any background in software development, and you are working (or starting) with &lt;code&gt;shiny&lt;/code&gt;, this book is definitely a must read. The book is organized in a systematic way that starts with the planning, moves forward to the design, prototyping and building and ends up with optimization. It contains a lot of interesting and useful tips for the beginner and some even for the experienced.&lt;/p&gt;
 &lt;p&gt;The topics covered are wide but the authors try to explained them as detailed as possible, while keeping it simple and practical. They offer code snippets and simple example to keep up with what is explained. Something that I particularly like is that the book is not fully focused on the use of &lt;code&gt;golem&lt;/code&gt; but it also shares different ways of achieving similar results. One example of all this is the chapter 17 "Using JavaScript": the authors provide a general overview of the basics of JavaScript, they touch HTML topics necessary to understand JavaScript interaction, and share options to pass info between JavaScript and R, explaining the &lt;code&gt;golem&lt;/code&gt; way and the traditional &lt;code&gt;shiny&lt;/code&gt; way.&lt;/p&gt;
 &lt;p&gt;Another interesting aspect is that most of the chapters offer further sources to learn more about the topic, either books, web pages and even GitHub repos with examples. Although the book claims that it is oriented to people who are already somehow familiar with shiny, it is my opinion that it can as well be followed easily by someone who just started learning shiny. Somehow I thought how useful it could have been to myself a few years ago when I was already experienced with R and familiar with Shiny, but completely ignorant to HTML, CSS, JavaScript and Software Engineering. I built my knowledge up by collecting info scatter over different sources until I could have a solid base. The authors collect it all in one e-book an keep there useful references and links which surely are now in my personal bookmarks.&lt;/p&gt;
 &lt;p&gt;Finally, the book is an easy read. Probably for someone with less experience in some of the topics it can take some effort, but it is not definitely the kind of headache-producer book that we offer encounter when learning a new programming language with highly technical but almost not practical guides out there. The authors have a good style for explaining and sharing examples and I believe that anyone with a good base knowledge of R or web development can follow.&lt;/p&gt;
 &lt;h1 class="article-header"&gt;My first golem app: personal_finances&lt;/h1&gt;
 &lt;p&gt;So, I decided to create a toy app following the book. Since it is written in chronological order for the creation of a Shiny app, I went one more time through it and created a very simple app for calculating savings. The app calculates either the amount of money necessary each month to reach a goal, or the amount of time.&lt;/p&gt;
 &lt;p&gt;You can find the code in my github repo &lt;a href="https://github.com/teotenn/PersonalFinances"&gt;PersonalFinances&lt;/a&gt; and the live app under &lt;a href="https://dev.teoten.com/shiny/PersonalFinances/"&gt;this link&lt;/a&gt;. Notice that at the moment of writing this post, the app is functional but still in a "toy" state without too much aesthetics and a few minor bugs. Yet, it showed me how quickly and easily one can build a strong base app using Golem.&lt;/p&gt;
 &lt;h2 class="article-header"&gt;Setup&lt;/h2&gt;
 &lt;p&gt;We start a golem project by calling&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;create_golem&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"path_to_project"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;At the end of the execution it suggests you to install some dependencies using the built in function &lt;code&gt;install_dev_deps()&lt;/code&gt; (in case they are missing). These are basically utilities that are useful for particular cases depending what you want to achieve, for example &lt;code&gt;dockerfiler&lt;/code&gt;. This can result in getting installed a bunch of packages that you might never use. I'd recommend to apply the function if you want to be prepared for everything and you don't have concerns about storage memory. Alternatively, I assume that is possible to try and continue without this step and only install particular packages when it is really necessary.&lt;/p&gt;
 &lt;p&gt;Next, we can see that the directory tree has been created with the default golem files. By default, the DESCRIPTION file already contains 3 dependency packages:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Imports&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;config&lt;/span&gt; &lt;span class="o"&gt;(&amp;gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;golem&lt;/span&gt; &lt;span class="o"&gt;(&amp;gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;shiny&lt;/span&gt; &lt;span class="o"&gt;(&amp;gt;=&lt;/span&gt; &lt;span class="mf"&gt;1.7&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mf"&gt;4.1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;I was nicely surprised with the fact that every R script has useful comments, and the scripts under &lt;code&gt;/dev&lt;/code&gt; show clear instructions on how to be used. Here is the example of &lt;code&gt;01_start.R&lt;/code&gt;.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Building a Prod-Ready, Robust Shiny Application.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# README: each step of the dev files is optional, and you don't have to&lt;/span&gt;
&lt;span class="c1"&gt;# fill every dev scripts before getting started.&lt;/span&gt;
&lt;span class="c1"&gt;# 01_start.R should be filled at start.&lt;/span&gt;
&lt;span class="c1"&gt;# 02_dev.R should be used to keep track of your development during the project.&lt;/span&gt;
&lt;span class="c1"&gt;# 03_deploy.R should be used once you need to deploy your app.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;########################################&lt;/span&gt;
&lt;span class="c1"&gt;#### CURRENT FILE: ON START SCRIPT #####&lt;/span&gt;
&lt;span class="c1"&gt;########################################&lt;/span&gt;

&lt;span class="c1"&gt;## Fill the DESCRIPTION ----&lt;/span&gt;
&lt;span class="c1"&gt;## Add meta data about your application&lt;/span&gt;
&lt;span class="c1"&gt;##&lt;/span&gt;
&lt;span class="c1"&gt;## /!\ Note: if you want to change the name of your app during development,&lt;/span&gt;
&lt;span class="c1"&gt;## either re-run this function, call golem::set_golem_name(), or don't forget&lt;/span&gt;
&lt;span class="c1"&gt;## to change the name in the app_sys() function in app_config.R /!\&lt;/span&gt;
&lt;span class="c1"&gt;##&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;fill_desc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
  &lt;span class="n"&gt;pkg_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"PersonalFinances"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# The Name of the package containing the App&lt;/span&gt;
  &lt;span class="n"&gt;pkg_title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"PKG_TITLE"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# The Title of the package containing the App&lt;/span&gt;
  &lt;span class="n"&gt;pkg_description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"PKG_DESC."&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# The Description of the package containing the App&lt;/span&gt;
  &lt;span class="n"&gt;author_first_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"AUTHOR_FIRST"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# Your First Name&lt;/span&gt;
  &lt;span class="n"&gt;author_last_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"AUTHOR_LAST"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# Your Last Name&lt;/span&gt;
  &lt;span class="n"&gt;author_email&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"AUTHOR@MAIL.COM"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# Your Email&lt;/span&gt;
  &lt;span class="n"&gt;repo_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# The URL of the GitHub Repo (optional),&lt;/span&gt;
  &lt;span class="n"&gt;pkg_version&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"0.0.0.9000"&lt;/span&gt; &lt;span class="c1"&gt;# The Version of the package containing the App&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;## Set {golem} options ----&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;set_golem_options&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;## Install the required dev dependencies ----&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;install_dev_deps&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;## Create Common Files ----&lt;/span&gt;
&lt;span class="c1"&gt;## See ?usethis for more information&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_mit_license&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Golem User"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# You can set another license here&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_readme_rmd&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;devtools&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;build_readme&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# Note that `contact` is required since usethis version 2.1.5&lt;/span&gt;
&lt;span class="c1"&gt;# If your {usethis} version is older, you can remove that param&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_code_of_conduct&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;contact&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"Golem User"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_lifecycle_badge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Experimental"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_news_md&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;## Use git ----&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_git&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;## Init Testing Infrastructure ----&lt;/span&gt;
&lt;span class="c1"&gt;## Create a template for tests&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_recommended_tests&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;## Favicon ----&lt;/span&gt;
&lt;span class="c1"&gt;# If you want to change the favicon (default is golem's one)&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_favicon&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# path = "path/to/ico". Can be an online file.&lt;/span&gt;
&lt;span class="c1"&gt;# golem::remove_favicon() # Uncomment to remove the default favicon&lt;/span&gt;

&lt;span class="c1"&gt;## Add helper functions ----&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_utils_ui&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;with_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_utils_server&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;with_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# You're now set! ----&lt;/span&gt;

&lt;span class="c1"&gt;# go to dev/02_dev.R&lt;/span&gt;
&lt;span class="n"&gt;rstudioapi&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;navigateToFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"dev/02_dev.R"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;And here we start with the package dependency and black magic solutions. The &lt;code&gt;golem::fill_desc&lt;/code&gt; part is clear what it does: to modify the DESCRIPTION file accordingly; but &lt;code&gt;golem::set_golem_options()&lt;/code&gt; it is not really clear what it does. According to the book:&lt;/p&gt;
 &lt;blockquote&gt;
  &lt;p&gt;... (the function) will add information to the &lt;code&gt;golem-config.yml&lt;/code&gt; file, and set the &lt;code&gt;here&lt;/code&gt; (Müller 2017) package root sentinel. &lt;code&gt;here&lt;/code&gt; is an R package designed to handle directory management in R. When used in combination with golem, &lt;code&gt;here&lt;/code&gt; helps ensure that everything you do in your console is performed relatively to the root directory of your project: the one containing the &lt;code&gt;DESCRIPTION&lt;/code&gt; of your application. That way, even if you change the working directory of your R session to a subfolder, you will still be able to create modules and CSS files in the correct folder.&lt;/p&gt;
 &lt;/blockquote&gt;
 &lt;p&gt;However, it was not as obscure as I thought. At execution, the function prints what it is doing (or what has been done).&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;`golem-config.yml`&lt;/span&gt;
 &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;`golem_name`&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;PersonalFinances&lt;/span&gt;
 &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;`golem_wd`&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;pkg_path&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;You&lt;/span&gt; &lt;span class="n"&gt;can&lt;/span&gt; &lt;span class="n"&gt;change&lt;/span&gt; &lt;span class="n"&gt;golem&lt;/span&gt; &lt;span class="n"&gt;working&lt;/span&gt; &lt;span class="n"&gt;directory&lt;/span&gt; &lt;span class="n"&gt;with&lt;/span&gt; &lt;span class="nf"&gt;set_golem_wd&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'path/to/wd'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
 &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;`golem_version`&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="m"&gt;0.0.1&lt;/span&gt;
 &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;`app_prod`&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;
&lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;project&lt;/span&gt; &lt;span class="n"&gt;as&lt;/span&gt; &lt;span class="n"&gt;`golem_wd`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;The section "Create Common Files" allows you to use &lt;code&gt;usethis&lt;/code&gt; as you would during package creation (which I usually don't use). My section looks like this:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;## Create Common Files ----&lt;/span&gt;
&lt;span class="c1"&gt;## See ?usethis for more information&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_gpl_license&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;## usethis::use_readme_rmd(open = FALSE)&lt;/span&gt;
&lt;span class="c1"&gt;## devtools::build_readme()&lt;/span&gt;
&lt;span class="c1"&gt;# Note that `contact` is required since usethis version 2.1.5&lt;/span&gt;
&lt;span class="c1"&gt;# If your {usethis} version is older, you can remove that param&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_code_of_conduct&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;contact&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"Golem User"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;## usethis::use_lifecycle_badge("Experimental")&lt;/span&gt;
&lt;span class="c1"&gt;## usethis::use_news_md(open = FALSE)&lt;/span&gt;
&lt;span class="c1"&gt;## Use git ----&lt;/span&gt;
&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_git&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;I have changed from MIT license to GPL 3. I am keeping the code of conduct and git as well. Since this is a toy project, I have commented everything else.&lt;/p&gt;
 &lt;p&gt;Moving forward, I allowed &lt;code&gt;golem::use_recommended_tests()&lt;/code&gt; which basically initializes the basic structure for &lt;code&gt;testthat&lt;/code&gt;. It suggested to me to install the package &lt;code&gt;spelling&lt;/code&gt; which I have never used so, I chose not to. Then, I replaced the default &lt;code&gt;favicon.ico&lt;/code&gt; for my own file and execute the function &lt;code&gt;golem::use_favicon()&lt;/code&gt;.&lt;/p&gt;
 &lt;p&gt;The final 2 functions were as follows:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_utils_ui&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;with_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
✔ &lt;span class="n"&gt;File&lt;/span&gt; &lt;span class="n"&gt;created&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;..&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PersonalFinances&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;golem_utils_ui.R&lt;/span&gt;
✔ &lt;span class="n"&gt;Utils&lt;/span&gt; &lt;span class="n"&gt;UI&lt;/span&gt; &lt;span class="n"&gt;added&lt;/span&gt;
✔ &lt;span class="n"&gt;File&lt;/span&gt; &lt;span class="n"&gt;created&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;..&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PersonalFinances&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tests&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;testthat&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;golem_utils_ui.R&lt;/span&gt;
✔ &lt;span class="n"&gt;Tests&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;utils_server&lt;/span&gt; &lt;span class="n"&gt;added&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_utils_server&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;with_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
✔ &lt;span class="n"&gt;File&lt;/span&gt; &lt;span class="n"&gt;created&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;..&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PersonalFinances&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;golem_utils_server.R&lt;/span&gt;
✔ &lt;span class="n"&gt;Utils&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="n"&gt;added&lt;/span&gt;
✔ &lt;span class="n"&gt;File&lt;/span&gt; &lt;span class="n"&gt;created&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;..&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PersonalFinances&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tests&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;testthat&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;golem_utils_server.R&lt;/span&gt;
✔ &lt;span class="n"&gt;Tests&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;utils_server&lt;/span&gt; &lt;span class="n"&gt;added&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Since I'm not using R Studio, I simply commented the last line &lt;code&gt;rstudioapi::navigateToFile("dev/02_dev.R")&lt;/code&gt;. Finally I saved the changed to the script in case I need to go back to them later.&lt;/p&gt;
 &lt;p&gt;Before moving further forward, I created a Github repository and did my first commit. There were 24 untracked files according to Magit.&lt;/p&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;div class="article-image-container"&gt;
  &lt;a href="/post/2023/my_first_golem_app/golem_init_files_git.png"&gt;&lt;img alt="The first files committed" src="/post/2023/my_first_golem_app/golem_init_files_git.png" /&gt;&lt;/a&gt;
 &lt;/div&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;h2 class="article-header"&gt;02_dev - Prototyping&lt;/h2&gt;
 &lt;blockquote&gt;
  &lt;p&gt;&amp;gt; When designing a first prototype, the challenge is in making it “as simple as possible”. There’s a tension between getting the basics working quickly and planning for the future of the app. Either extreme can be bad: if you design too narrowly, you’ll spend a lot of time later on reworking your app; if you design too rigorously, you’ll spend a bunch of time writing code that later ends up on the cutting floor. To help get the balance right, I often do a few pencil-and-paper sketches to rapidly explore the UI and reactive graph before committing to code.&lt;/p&gt;
  &lt;p&gt;Hadely Wickham &lt;a href="https://mastering-shiny.org/basic-case-study.html"&gt;Mastering Shiny&lt;/a&gt;&lt;/p&gt;
 &lt;/blockquote&gt;
 &lt;p&gt;The next script, &lt;code&gt;02_dev.R&lt;/code&gt; proposes functions to start with the development of the app itself. Following the advice from the book, I started by prototyping with an empty UI and a prototype for the functions.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;The empty UI&lt;/h3&gt;
 &lt;p&gt;My first step was to create a module, as recommended by the script. Since I plan to start with one page only, I execute the first line that creates modules and commented the second.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;## Add modules ----&lt;/span&gt;
&lt;span class="c1"&gt;## Create a module infrastructure in R/&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;add_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"savings"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;with_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# Name of the module&lt;/span&gt;
&lt;span class="c1"&gt;## golem::add_module(name = "name_of_module2", with_test = TRUE) # Name of the module&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;The line creates &lt;code&gt;mod_savings.R&lt;/code&gt; ot the folder &lt;code&gt;R&lt;/code&gt;. The package is supposed to cope well with RStudio, but I was surprised at how well it does on Emacs as well: it opens a new buffer with the new file and allows you to edit it or exit and continue on your own later. Kudos to the developers of &lt;a href="https://ess.r-project.org/"&gt;ESS&lt;/a&gt;.&lt;/p&gt;
 &lt;p&gt;Now I can start prototyping the user interface.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#' savings UI Function&lt;/span&gt;
&lt;span class="c1"&gt;#'&lt;/span&gt;
&lt;span class="c1"&gt;#' @description A shiny Module.&lt;/span&gt;
&lt;span class="c1"&gt;#'&lt;/span&gt;
&lt;span class="c1"&gt;#' @param id,input,output,session Internal parameters for {shiny}.&lt;/span&gt;
&lt;span class="c1"&gt;#'&lt;/span&gt;
&lt;span class="c1"&gt;#' @noRd&lt;/span&gt;
&lt;span class="c1"&gt;#'&lt;/span&gt;
&lt;span class="c1"&gt;#' @importFrom shiny NS tagList&lt;/span&gt;
&lt;span class="n"&gt;mod_savings_ui&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
  &lt;span class="n"&gt;ns&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;NS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="nf"&gt;tagList&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="nf"&gt;fluidRow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
      &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;
             &lt;span class="nf"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Input parameters"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="nf"&gt;fluidRow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
               &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;textInput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"initial_ammount"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Initial Ammount"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;placeholder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"$"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
             &lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="nf"&gt;fluidRow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
               &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;textInput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"int_rate"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Interest Rate"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"3"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;placeholder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"%"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
             &lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="nf"&gt;fluidRow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
               &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;selectInput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"int_return"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Interest Return"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                     &lt;span class="n"&gt;choices&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Annual"&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"6 Months"&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                    &lt;span class="s"&gt;"3 Months"&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Monthly"&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                     &lt;span class="n"&gt;selected&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
             &lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="nf"&gt;fluidRow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
               &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;textInput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"goal"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Savings Goal"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;placeholder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"$"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
             &lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="nf"&gt;fluidRow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
               &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="nf"&gt;h3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Time to reach"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                      &lt;span class="nf"&gt;textInput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"reach_years"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Years"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                      &lt;span class="nf"&gt;textInput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"reach_months"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Months"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                      &lt;span class="p"&gt;),&lt;/span&gt;
               &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="nf"&gt;h3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Time to reach"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                      &lt;span class="nf"&gt;textInput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"add_monthly"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Ammount"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                      &lt;span class="p"&gt;)&lt;/span&gt;
             &lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="nf"&gt;fluidRow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
               &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;actionButton&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;NS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"calc_ammount"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s"&gt;"Calculate Monthly Needed"&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
               &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;actionButton&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;NS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"calc_time"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s"&gt;"Calculate Time"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
             &lt;span class="p"&gt;)&lt;/span&gt;
             &lt;span class="p"&gt;),&lt;/span&gt;
      &lt;span class="nf"&gt;column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;
             &lt;span class="nf"&gt;h3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Results"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="nf"&gt;fluidRow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
               &lt;span class="nf"&gt;textOutput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;NS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"results"&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
               &lt;span class="nf"&gt;plotOutput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;NS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"pSavings"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
             &lt;span class="p"&gt;)&lt;/span&gt;
             &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Such UI can already render the page. Thus, I executed &lt;code&gt;golem::document_and_reload()&lt;/code&gt; which basically loads our app (as package) and then simply &lt;code&gt;run_app()&lt;/code&gt;. Now, the structure of my app can already be seen at &lt;code&gt;127.0.0.1:3721&lt;/code&gt;.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Prototyping the server&lt;/h3&gt;
 &lt;p&gt;As recommended in the section "Building an ipsum-app", I added random generated numbers to the results.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#' savings Server Functions&lt;/span&gt;
&lt;span class="c1"&gt;#'&lt;/span&gt;
&lt;span class="c1"&gt;#' @noRd&lt;/span&gt;
&lt;span class="n"&gt;mod_savings_server&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
  &lt;span class="nf"&gt;moduleServer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="n"&gt;ns&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;ns&lt;/span&gt;

    &lt;span class="nf"&gt;observeEvent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;calc_ammount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;save_per_month&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;runif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;5000&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;save_per_month&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;length.out&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
      &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;renderText&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glue&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;glue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"You need to save ${save_per_month} per month."&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
      &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;pSavings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;renderPlot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xlab&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"Years"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ylab&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"$"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;})&lt;/span&gt;

    &lt;span class="nf"&gt;observeEvent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;calc_time&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;years_saving&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;runif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;50&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;years_saving&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;5000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;length.out&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
      &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;renderText&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glue&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;glue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"You will reach your goal in {years_saving} years."&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
      &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;pSavings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;renderPlot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xlab&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"Years"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ylab&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"$"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;})&lt;/span&gt;

  &lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;I used &lt;code&gt;glue&lt;/code&gt; in purpose to see how the adding of packages works. I added and executed the following line to the &lt;code&gt;02_dev.R&lt;/code&gt; script.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;usethis&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;use_package&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"glue"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min_version&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

✔ &lt;span class="n"&gt;Adding&lt;/span&gt; &lt;span class="s"&gt;'glue'&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;Imports&lt;/span&gt; &lt;span class="n"&gt;field&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;DESCRIPTION&lt;/span&gt;
✔ &lt;span class="n"&gt;Increasing&lt;/span&gt; &lt;span class="s"&gt;'glue'&lt;/span&gt; &lt;span class="n"&gt;version&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="s"&gt;'&amp;gt;= 1.6.2'&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;DESCRIPTION&lt;/span&gt;
• &lt;span class="n"&gt;Refer&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;functions&lt;/span&gt; &lt;span class="n"&gt;with&lt;/span&gt; &lt;span class="n"&gt;`glue::fun()`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;As part of prototyping, it is also recommended to create &lt;code&gt;.Rmd&lt;/code&gt; notebooks with the workflow and/or functions that will be used in the app. So I did and created &lt;code&gt;savings_example.Rmd&lt;/code&gt; inside &lt;strong&gt;dev/&lt;/strong&gt; folder. I basically made a few notes, created and tested some functions and wrap them all in a main function that will be called from shiny to do the work.&lt;/p&gt;
 &lt;h2 class="article-header"&gt;Build&lt;/h2&gt;
 &lt;h3 class="article-header"&gt;Utils and functions&lt;/h3&gt;
 &lt;p&gt;Following &lt;code&gt;02_dev.R&lt;/code&gt;, I executed the following code to create new scripts with my functions.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;## Add helper functions ----&lt;/span&gt;
&lt;span class="c1"&gt;## Creates fct_* and utils_*&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;add_fct&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"savings"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;with_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;golem&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;add_utils&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"helpers"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;with_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;This created &lt;code&gt;fct_savings.R&lt;/code&gt; and &lt;code&gt;utils_helpers.R&lt;/code&gt; in the &lt;strong&gt;R/&lt;/strong&gt; folder, with some prepared snippet for the documentation. It also asks if you want to include unit test, and it creates the proper script inside &lt;strong&gt;tests/testthat/&lt;/strong&gt; if you accept.&lt;/p&gt;
 &lt;p&gt;My &lt;code&gt;utils_helpers.R&lt;/code&gt; script contains only one simple function to help calculate the increase of a initial value based on the interest. &lt;code&gt;fct_savings.R&lt;/code&gt; contains the main functions that will be used by shiny. These are &lt;code&gt;estimate_monthly&lt;/code&gt; to calculate the monthly income needed to achieve the goal, and &lt;code&gt;estimate_time&lt;/code&gt; that instead estimates the time needed to reach a goal. Each of them returns a list with the &lt;code&gt;text&lt;/code&gt; to be displayed instead of the random number and a &lt;code&gt;data&lt;/code&gt; frame to create the plot.&lt;/p&gt;
 &lt;p&gt;I could have placed all the functions inside the &lt;code&gt;fct&lt;/code&gt; script but I want to try as many features as possible as described in the book. Since the goal is to test out &lt;code&gt;golem&lt;/code&gt;, I will not go into the details of my functions, but you can check them out on the &lt;a href="https://github.com/teotenn/PersonalFinances"&gt;github repo&lt;/a&gt; if you are interested.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;New server&lt;/h3&gt;
 &lt;p&gt;Once that my supportive functions are available, I can simply call them from the module as any any other shiny app and get them to work. Here are the results of that.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mod_savings_server&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
  &lt;span class="nf"&gt;moduleServer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="n"&gt;ns&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;ns&lt;/span&gt;

    &lt;span class="n"&gt;init_amount&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;reactive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;initial_ammount&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;add_monthly&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;reactive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;add_monthly&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;goal&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;reactive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;goal&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;input_rate&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;reactive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;int_rate&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;t_years&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;reactive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;reach_years&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;t_months&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;reactive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;reach_months&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="n"&gt;int_return&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;reactive&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
      &lt;span class="nf"&gt;switch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;int_return&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="m"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;})&lt;/span&gt;

    &lt;span class="nf"&gt;observeEvent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;calc_ammount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;estimate_monthly&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="nf"&gt;init_amount&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;goal&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;t_years&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;t_months&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;input_rate&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;int_return&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
      &lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;renderText&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;pSavings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;renderPlot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="nf"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;Month&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;Amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xlab&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"Months"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ylab&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"$"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;})&lt;/span&gt;

    &lt;span class="nf"&gt;observeEvent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;calc_time&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="nf"&gt;estimate_time&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="nf"&gt;init_amount&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;goal&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;add_monthly&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;input_rate&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
        &lt;span class="nf"&gt;int_return&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
      &lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;renderText&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;pSavings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;renderPlot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="nf"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;Month&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;Amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xlab&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"Months"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ylab&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"$"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;})&lt;/span&gt;

  &lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;div class="article-image-container"&gt;
  &lt;a href="/post/2023/my_first_golem_app/Screenshot_calculate_amount.png"&gt;&lt;img alt="Calculating the monthly amount" src="/post/2023/my_first_golem_app/Screenshot_calculate_amount.png" /&gt;&lt;/a&gt;
 &lt;/div&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;div class="article-image-container"&gt;
  &lt;a href="/post/2023/my_first_golem_app/Screenshot_calculate_time.png"&gt;&lt;img alt="Calculating the time" src="/post/2023/my_first_golem_app/Screenshot_calculate_time.png" /&gt;&lt;/a&gt;
 &lt;/div&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;p&gt;Although there is still a lot to improve, it seems that I got already a functional app.&lt;/p&gt;
 &lt;h2 class="article-header"&gt;Default unit tests&lt;/h2&gt;
 &lt;p&gt;As I mentioned earlier, using the &lt;code&gt;golem&lt;/code&gt; functions to create the scripts gives us the option of adding tests files in the style of &lt;code&gt;thestthat&lt;/code&gt;. I think that the unit test is critical for any kind of software because it gives confidence when doing modifications. Thus, before moving any further with improvements, I decided to have a functional unit test ready.&lt;/p&gt;
 &lt;p&gt;For this step I went myself through the tests automatically created by &lt;code&gt;golem&lt;/code&gt; first. In this aspect, &lt;code&gt;golem&lt;/code&gt; does not offer anything special, but the book mentions good practices, practical advises and useful examples to for testing shiny apps. Therefore, I am not going in detail for this section. I basically used &lt;code&gt;testthat&lt;/code&gt; as usual and implement some tests within &lt;code&gt;testServer&lt;/code&gt;.&lt;/p&gt;
 &lt;p&gt;Something that I can do recommend for a person who is not so familiar with Shiny is to go through the section &lt;a href="https://mastering-shiny.org/reactivity-intro.html"&gt;Mastering Reactivity&lt;/a&gt; of &lt;a href="https://mastering-shiny.org/index.html"&gt;Mastering Shiny&lt;/a&gt; which explains reactivity in detail and helps a great deal at designing a proper unit test for shiny apps.&lt;/p&gt;
 &lt;h1 class="article-header"&gt;Conclusions&lt;/h1&gt;
 &lt;p&gt;My conclusions are kind of mixed feelings about &lt;code&gt;golem&lt;/code&gt;. I find the book a fantastic read to improve my knowledge and skills with Shiny and I would recommend it to anyone using Shiny.&lt;/p&gt;
 &lt;p&gt;When it comes to the package and the framework, I would recommend it to someone who wants a simple and quick way to create production ready apps in Shiny. It will require some learning in the framework but the e-book is a great source for that and following it can be almost enough. Golem is great to automatize certain processes in shiny, generate snippets and obtain all kind of tools directly from the box.&lt;/p&gt;
 &lt;p&gt;I am more a person who likes coding it myself before automating it. I like to know what is going on and why and after that I can either accept some automating tool or create my own. Therefore, &lt;code&gt;golem&lt;/code&gt; is not for me. I don't like the way how it organize things and I definitely don't like the excess of code and dependencies that it generates for my shiny apps, specially if these are simple ones. On the other hand, I like how it organizes the modules and I learned some useful and practical things from creating a &lt;code&gt;golem&lt;/code&gt; app which I am ready to implement in my next app. It is always good to learn something new and get a different perspective on something we are used to do in our own way.&lt;/p&gt;
&lt;/div&gt;&lt;/article&gt;</description></item><item><title>Adding a website next to your Shiny server</title><link href="https://blog.teoten.com/posts/2023/adding_website_to_siny/">https://blog.teoten.com/posts/2023/adding_website_to_siny/</link><pubDate>Thu Sep 07 02:00:00 CEST 2023</pubDate><author>Teoten</author><guid></guid><categories>R, web-dev, </categories><description type="html">&lt;article id="post-/posts/2023/adding_website_to_siny/" data-post-id="/posts/2023/adding_website_to_siny/"&gt;&lt;div&gt;
 &lt;span&gt;
  &lt;/span&gt;&lt;p&gt;I have been off from the blog lately due to a big load of personal projects. Just lately I got a few days off and found time to work on my personal website, to be ready soon. That made me get more into Nginx configuration, where I consider myself a total rookie. However, I was mainly adding a few domains that are intended for different purposes. That is incredibly easy to do using Nginx even with minimal knowledge, and that's what I want to show here.&lt;/p&gt;
  &lt;p&gt;Basically I want to have my shiny apps under one domain, and some other sites under different domains, but using only one server. I also decided to add my own customized 404 error page. There are different ways to accomplish that, here are just a couple of them. I hope they can be of use.&lt;/p&gt;
 &lt;h2 class="article-header"&gt;Using sites-enabled&lt;/h2&gt;&lt;span&gt;&lt;span&gt;
   &lt;/span&gt;&lt;/span&gt;&lt;p&gt;&lt;span&gt;If you followed my previous post about how to &lt;a href="/post/deploy_shiny_on_debian/"&gt;deploy your own shiny app&lt;/a&gt;&lt;span&gt; in your own server using Nginx, the next step to deploy a new website with a different domain in the same server is very easy. Nginx uses the concept of server blocks that use the &lt;code&gt;server_name&lt;/code&gt; and listen directives to bind to tcp sockets. &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
   &lt;p&gt;&lt;span&gt;Go to you Nginx file where we placed the details for the Shiny server in &lt;code&gt;/etc/nginx/sites-enabled/default&lt;/code&gt; and add a new server block at the very end of the file. It can be something like below. &lt;/span&gt;&lt;/p&gt;
  &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/var/www/example/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="s"&gt;example.mydomain.com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;try_files&lt;/span&gt; &lt;span class="nv"&gt;$uri&lt;/span&gt; &lt;span class="nv"&gt;$uri/&lt;/span&gt; &lt;span class="s"&gt;uri.html&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;404&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
  &lt;p&gt;&lt;span&gt;Direct the &lt;code&gt;root&lt;/code&gt; to the path where your public website files are, and &lt;code&gt;server_name&lt;/code&gt; to your domain. Remember that you also have to direct your domain to the public IP address of your server, this means the same where your shiny app is. Finally restart Nginx &lt;code&gt;sudo systemctl reload nginx&lt;/code&gt; and your new address should show the &lt;code&gt;index.html&lt;/code&gt; file stored in your path. &lt;/span&gt;&lt;/p&gt;
 &lt;h2 class="article-header"&gt;Using nginx.conf&lt;/h2&gt;&lt;span&gt;
  &lt;/span&gt;&lt;p&gt;&lt;span&gt;Another option is to configure directly &lt;code&gt;/etc/nginx/nginx.conf&lt;/code&gt; and add as many server blocks as you need, within the http block. Here is the example used above alongside the shiny server. Remember to add the&lt;code&gt;map&lt;/code&gt; parameter before the shiny block. &lt;/span&gt;&lt;/p&gt;
  &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;http{&lt;/span&gt;
    &lt;span class="c1"&gt;## Leave anything above untouch, add your blocks at the end&lt;/span&gt;

    &lt;span class="c1"&gt;## Example server&lt;/span&gt;
    &lt;span class="s"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/var/www/example/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="s"&gt;example.mydomain.com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kn"&gt;try_files&lt;/span&gt; &lt;span class="nv"&gt;$uri&lt;/span&gt; &lt;span class="nv"&gt;$uri/&lt;/span&gt; &lt;span class="s"&gt;uri.html&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;404&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="c1"&gt;## Shiny server&lt;/span&gt;
    &lt;span class="k"&gt;map&lt;/span&gt; &lt;span class="nv"&gt;$http_upgrade&lt;/span&gt; &lt;span class="nv"&gt;$connection_upgrade&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;default&lt;/span&gt; &lt;span class="s"&gt;upgrade&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;''&lt;/span&gt;      &lt;span class="s"&gt;close&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/var/www/shiny/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;## Don't forget to create the folder&lt;/span&gt;
        &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index.html&lt;/span&gt; &lt;span class="s"&gt;index.htm&lt;/span&gt; &lt;span class="s"&gt;index.nginx-debian.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="s"&gt;shiny.myomain.com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/shiny/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kn"&gt;proxy_pass&lt;/span&gt; &lt;span class="s"&gt;http://127.0.0.1:3838/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;proxy_http_version&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="s"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;proxy_set_header&lt;/span&gt; &lt;span class="s"&gt;Upgrade&lt;/span&gt; &lt;span class="nv"&gt;$http_upgrade&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;proxy_set_header&lt;/span&gt; &lt;span class="s"&gt;Connection&lt;/span&gt; &lt;span class="s"&gt;"upgrade"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;rewrite&lt;/span&gt; &lt;span class="s"&gt;^(/shiny/[^/]+)&lt;/span&gt;$ &lt;span class="nv"&gt;$1/&lt;/span&gt; &lt;span class="s"&gt;permanent&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;h2 class="article-header"&gt;Adding a custom 404 page&lt;/h2&gt;&lt;span&gt;&lt;span&gt;
   &lt;/span&gt;&lt;/span&gt;&lt;p&gt;To add a custom 404 error page (or basically any error page) we could create it as part of our site and point Nginx to it. However, we can as well create and maintain only one page and share it for all or some of our domains.&lt;/p&gt;
   &lt;p&gt;&lt;span&gt;You can create a some file like &lt;code&gt;custom_404.html&lt;/code&gt; in the path &lt;code&gt;/usr/share/nginx/html/&lt;/code&gt;, edit it to your liking and then add it to each server block where you want to use it. The Nginx code goes something like this: &lt;/span&gt;&lt;/p&gt;
  &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt; &lt;span class="s"&gt;/custom_404.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;/custom_404.html&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/usr/share/nginx/html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;internal&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
  &lt;p&gt;&lt;span&gt;We can also cover several errors by listing them to the parameter &lt;code&gt;error_page&lt;/code&gt;. Here is an example to cover several 500 errors. &lt;/span&gt;&lt;/p&gt;
  &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt; &lt;span class="mi"&gt;502&lt;/span&gt; &lt;span class="mi"&gt;503&lt;/span&gt; &lt;span class="mi"&gt;504&lt;/span&gt; &lt;span class="s"&gt;/custom_50x.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;/custom_50x.html&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/usr/share/nginx/html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;internal&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
  &lt;p&gt;&lt;span&gt;In this case, Nginx will use whatever we have in &lt;code&gt;/usr/share/nginx/html/csutom_50x.html&lt;/code&gt; to show when the errors 500, 502, 503 and 504 appear. &lt;/span&gt;&lt;/p&gt;
 &lt;h2 class="article-header"&gt;Final considerations&lt;/h2&gt;&lt;span&gt;
  &lt;/span&gt;&lt;p&gt;&lt;span&gt;Whichever steps you take, don't forget to execute &lt;code&gt;sudo nginx -t&lt;/code&gt; when you make modifications to ensure that your configuration files and syntax are correct. The more often you run it, the easier will be to identify potential problems. &lt;/span&gt;&lt;/p&gt;
  &lt;p&gt;&lt;span&gt;Also, don't forget to check the &lt;a href="https://nginx.org/en/docs/"&gt;Nginx documentation&lt;/a&gt;, it has a &lt;a href="https://nginx.org/en/docs/beginners_guide.html"&gt;beginner's guide&lt;/a&gt; and my favorite, a &lt;a href="https://www.nginx.com/resources/wiki/start/#"&gt;getting started&lt;/a&gt; site with tons of examples. &lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/article&gt;</description></item><item><title>Deploy your own Shiny app server with debian</title><link href="https://blog.teoten.com/posts/2023/deploy_shiny_on_debian/">https://blog.teoten.com/posts/2023/deploy_shiny_on_debian/</link><pubDate>Sun Jan 22 01:00:00 CET 2023</pubDate><author>Teoten</author><guid></guid><categories>R, web-dev, </categories><description type="html">&lt;article id="post-/posts/2023/deploy_shiny_on_debian/" data-post-id="/posts/2023/deploy_shiny_on_debian/"&gt;&lt;div&gt;
 &lt;p&gt;A few weeks ago I opened an account on Digital Ocean to start my own cloud server. Not long after that I took a workshop on Shiny and, although it was too technical with nothing new for me, I learn a couple of things unrelated to R. The speaker was talking about the importance of making your portfolio showing your apps instead of sharing the link to your code as most of us do. I thought it makes sense since anybody who sees our GitHub account can take whatever they want from it, and at the end is only code, which many recruiters and managers are not familiar with. On the other hand if you show some apps you can definitely impress your audience. And so, since Digital Ocean gives you 200 USD of credit for the first 2 months, I decided to try and install my own Shiny server there.&lt;/p&gt;
 &lt;p&gt;There are plenty of source on the web on how to set up your own shiny server, but most of them focus on Docker, which gives you a little less control over it. I wanted something that I could fully control myself because in the past I have deployed Shiny apps on Heroku using a process that I did not understand well and thus, it was really difficult to debug or modify. For good or bad, Heroku canceled the free accounts and thus I decided to try Digital Ocean. The big advantage for me is that Digital Ocean gives you the possibility of using what basically is a Virtual Machine with a minimal Linux installation. Since I've been using Debian for the last 10 years, I initialized a Debian 11 server and it was really easy to set up my own cloud service without the use of Docker, and not long later, also my own Shiny server. Of course I did it with the help of Google, with some really useful and clear tutorials I found in marine data science (two links, &lt;a href="https://www.marinedatascience.co/blog/2019/04/28/run-shiny-server-on-your-own-digitalocean-droplet-part-1/"&gt;part 1&lt;/a&gt; and &lt;a href="https://www.marinedatascience.co/blog/2019/04/28/run-shiny-server-on-your-own-digitalocean-droplet-part-2/"&gt;part 2&lt;/a&gt; can be found here) and of course, directly from &lt;a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-shiny-server-on-ubuntu-20-04"&gt;Digital Ocean's Guide&lt;/a&gt;.&lt;/p&gt;
 &lt;p&gt;That work inspired me to set up my own home server and to write this guide. Although the sources I found are really helpful, they are lacking a few steps if you set up your own server from scratch, and they are also lacking some sources of where to find when the software gets up to date, providing only old links. Therefore, I decided to make this guide, covering all those topics and keeping a registry of the links, to help myself in the future and to help anybody who want to try it.&lt;/p&gt;
 &lt;h2 class="article-header"&gt;About this guide&lt;/h2&gt;
 &lt;p&gt;As mentioned, this guide is designed to explain in a step by step manner how to deploy shinny apps on your own server using &lt;a href="https://www.debian.org/News/2021/20210814"&gt;Debian 11&lt;/a&gt;. Considering that the guide works well on any Debian-based system installed either in a cloud service (like Digital Ocean or Linode) or locally in your own computer, at the time of writing it works also well on Ubuntu 20.&lt;/p&gt;
 &lt;p&gt;The guide pretends to be a point of reference and you can follow it from beginning to end, by changing the order of some steps, or simply as a reference of certain points. Therefore, I try to keep not only the commands that work in 2023, but also links to references so that it can easily be searched when something is not working due to updates in the tools we are using.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Why should I have my own server?&lt;/h3&gt;
 &lt;p&gt;I cannot highlight enough that this guide pretends to explain &lt;strong&gt;how to install your own Shiny server in a Debian-based system&lt;/strong&gt; located either in a cloud, a virtual machine or your own computer.&lt;/p&gt;
 &lt;p&gt;I am using an old Dell laptop with only 1 core, about 3 GB of RAM and 500 GB of memory. Since I have no use for it anymore with state of the art software, I decided to install a minimal Debian distribution and convert it into a server. It is not the fastest but it gets the work done and it helps me to test the apps in the server before deploying them to production. I'm sure that many of you have noticed that it is not the same when you run the app in the computer you are developing than when you deploy it to the server. Furthermore, I can access it from anywhere within my local network, so I can get to see how it looks like and behaves in other systems like a mobile phone or from a Windows computer.&lt;/p&gt;
 &lt;p&gt;The best part of having my local server with Debian 11 is that I can mimic my droplet in Digital Ocean, also in Debian 11, and get an accurate view of my app before deploying it to production, doing all the changes or modifications to the system in advance to learn which ones work best and avoid installing extra apps or making useless changes in the paid server (I'm sure we all have ever changed some configuration files so much that when it all crashes, we have no idea how to set them back to default).&lt;/p&gt;
 &lt;p&gt;Additionally, my own server in Digital Ocean allows me to control what exactly I have there. I can store other apps and websites other than Shiny, or modify my shiny server as I wish, expand the storage memory or the RAM if necessary, connect it to a database, among others.&lt;/p&gt;
 &lt;p&gt;And finally and probably most important, it exposes me to real world problems that appear when developing Shiny apps. Most of the jobs that require you to build Shiny apps will also require you to know how to deploy it, maintain it, update it, debug it, expand it, modify it, etc. Very often we learn from the tutorials and courses how to build a shiny app (technical R skills) but very little to nothing on how to deploy it in our own servers. That is the reason why I didn't want to use any semi-automatized tool and rather wanted to get my hands dirty on doing it. And this is what this guide is about.&lt;/p&gt;
 &lt;h2 class="article-header"&gt;Step by Step guide&lt;/h2&gt;
 &lt;h3 class="article-header"&gt;Pre-requisites&lt;/h3&gt;
 &lt;h4 class="article-header"&gt;Using Digital Ocean&lt;/h4&gt;
 &lt;p&gt;If you choose to use Digital Ocean, make sure to start a new droplet with SSH. See &lt;a href="https://docs.digitalocean.com/products/droplets/how-to/create/"&gt;How to create a Droplet&lt;/a&gt; in the Difital Ocean's own guides. In that way it would be easier to follow this guide. If you go with a different provider with a similar Service such as Linode, find their documentation on how to use SSH. Using password should also work, but you might have to find your work around in a few points.&lt;/p&gt;
 &lt;h4 class="article-header"&gt;Using Debian minimal installation&lt;/h4&gt;
 &lt;p&gt;When you use a cloud service your basic Debian or Ubuntu installation comes with all the basic tools that you need to start building up your websites. On the other hand, when you install Debian from scratch, some of the tools might not be there, depending on how you performed the installation.&lt;/p&gt;
 &lt;p&gt;In my case, I had to do a minimal installation without internet connection due to problems with the drivers of my old laptop, therefore I found out that some important and basic tools were missing. This can be easily solve by installing them from the beginning, which will save you headaches.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;apt install sudo git curl systemd rsync ufw ssh ssh-server net-tools
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;As you can see, I am installing &lt;code&gt;sudo&lt;/code&gt; because my Debian installation did not include it. That means that at the beginning I should work as root. If you're not sure how to do it, simply type &lt;code&gt;root&lt;/code&gt; at startup as your user name, then your root password and you should then see a functional terminal showing you something like &lt;code&gt;root@debian:/&lt;/code&gt;.&lt;/p&gt;
 &lt;p&gt;If you are using this option you should probably be following the guide directly from the computer that is working as the server. If that is the case, you might not need to use SSH. However I would strongly recommend it. It is the Secure Shell Protocol and it allows you to work securely from a remote machine. As a practical example, for me it means that I can have my &lt;em&gt;server&lt;/em&gt; computer without a screen (and thus, without a desktop environment) in some corner, plugged to my router with an Ethernet cable and do all the work from the comfort of my standard personal computer, which I will call the &lt;em&gt;remote&lt;/em&gt;.&lt;/p&gt;
 &lt;p&gt;To connect remotely using SSH you need to generate a key and copy it to the other computer.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ssh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;keygen&lt;/span&gt;
&lt;span class="n"&gt;ssh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="m"&gt;192.168.0&lt;/span&gt;&lt;span class="n"&gt;.xxx&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Execute the code above in both, your remote and your server. &lt;code&gt;ssh-keygen&lt;/code&gt; will generate the keys, and the easiest way is to follow the default values given after executing it. &lt;code&gt;ssh-copy-id&lt;/code&gt; will copy it to the other computer you want to connect with. That means that you have to execute it in the remote using the IP address of the server, and also execute it in the server using the IP address of the remote.&lt;/p&gt;
 &lt;p&gt;There are different ways to find you IP address. If you installed &lt;code&gt;net-tools&lt;/code&gt; from the step above, you can do &lt;code&gt;sudo ifconfig -a&lt;/code&gt;. In Debian and Ubuntu, the IP for wifi connection is usually shown in the section &lt;code&gt;wlan0&lt;/code&gt; and if you are connected via Ethernet, in the section &lt;code&gt;eth0&lt;/code&gt;.&lt;/p&gt;
 &lt;h4 class="article-header"&gt;Create a user and add SSH keys&lt;/h4&gt;
 &lt;p&gt;No matter the option you chose above, you can follow this guide to create a new user and add the SSH login, given that you chose SSH when you created the droplet, or the step above with &lt;code&gt;ssh-keygen&lt;/code&gt; if you are creating your own server.&lt;/p&gt;
 &lt;p&gt;Depending on the distribution you chose, here is the &lt;a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04"&gt;Initial Server Setup with Ubuntu 20.04&lt;/a&gt; and &lt;a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-10"&gt;Initial Server Setup with Debian 10&lt;/a&gt;. The links also show how to set up a basic firewall using &lt;code&gt;ufw&lt;/code&gt;, which I highly recommend. I recommend following those guides to 1) create a user other than root; 2) allow ssh key for that user and; 3) set up a &lt;code&gt;ufw&lt;/code&gt; firewall.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Install and start Nginx&lt;/h3&gt;
 &lt;p&gt;To be able to show content to the public using the HTTP you need a web server to be installed. The two most popular web servers are &lt;a href="https://httpd.apache.org/"&gt;Apache&lt;/a&gt; and &lt;a href="http://nginx.org/"&gt;nginx&lt;/a&gt; and both would be similarly suitable. I went for nginx which I'm more familiar with and I'm learning at the moment. You can also follow the &lt;a href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-16-04"&gt;instructions&lt;/a&gt; given by DigitalOcean.&lt;/p&gt;
 &lt;p&gt;Basically you need to install it, open the firewall for it, and start the service:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install ngninx

sudo ufw allow &lt;span class="s1"&gt;'Nginx Full'&lt;/span&gt;

sudo service nginx start
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Now we can check the status of Nginx with &lt;code&gt;sudo service nginx status&lt;/code&gt;&lt;/p&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;div class="article-image-container"&gt;
  &lt;a href="../../../../post/2023/deploy_shiny_on_debian/Screenshot_Nginx-running.png"&gt;&lt;img alt="Nginx is running" src="../../../../post/2023/deploy_shiny_on_debian/Screenshot_Nginx-running.png" /&gt;&lt;/a&gt;
 &lt;/div&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Custom domain name (optional)&lt;/h3&gt;
 &lt;p&gt;If you want to point to your own domain rather than your public IP address, you should first buy a domain name and then set up a DNS for the domain. Here is Digital Ocean's guide on &lt;a href="https://docs.digitalocean.com/tutorials/dns-registrars/"&gt;How to point to your server&lt;/a&gt; with the most common domain name registrars.&lt;/p&gt;
 &lt;p&gt;In my case I created a subdomain from my current &lt;code&gt;rwhitedwarf.com&lt;/code&gt; that I already have in &lt;a href="https://www.namecheap.com"&gt;namecheap&lt;/a&gt;. Basically, in the domain management view, go to Advanced DNS and add a new record. It can simply be "A Record" with the host pointing at the subdomain you want, in my case I chose &lt;code&gt;apps&lt;/code&gt;, and your public IP.&lt;/p&gt;
 &lt;p&gt;Whatever your choice is, you should be able to see the Nginx welcome page as the image below shows, when you go to your chosen address. In my case I can see it under apps.rwhitedwarf.com.&lt;/p&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;div class="article-image-container"&gt;
  &lt;a href="../../../../post/2023/deploy_shiny_on_debian/Screenshot_Nginx-welcome-page.png"&gt;&lt;img alt="Nginx welcome page" src="../../../../post/2023/deploy_shiny_on_debian/Screenshot_Nginx-welcome-page.png" /&gt;&lt;/a&gt;
 &lt;/div&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;p&gt;Keep in mind that, since we still don't add the SSL certificate, your website appears as &lt;code&gt;http&lt;/code&gt; instead of &lt;code&gt;https&lt;/code&gt; and thus, your browser might warn you about a connection not secure. You can try to overtake the warning and see your Nginx welcome page for the purpose of testing, in order to make sure that everything went well before moving to the next step.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Add SSL certificate to get HTTPS (optional)&lt;/h3&gt;
 &lt;p&gt;It is recommended to secure nginx with &lt;a href="https://letsencrypt.org/"&gt;Let's Encrypt&lt;/a&gt; which is a Certificate Authority (CA) that provides an easy way to obtain and install free TLS/SSL certificates. Here are the &lt;a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-debian-11"&gt;instructions from Digital Ocean&lt;/a&gt; to do it.&lt;/p&gt;
 &lt;p&gt;We basically need to install and activate certbot, the python script that activates let's encrypt.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Install the package&lt;/span&gt;
sudo apt install certbot python3-certbot-nginx
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;If you are working on Ubuntu the instructions are a bit different, check this link from &lt;a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04"&gt;Digital Ocean&lt;/a&gt; for it.&lt;/p&gt;
 &lt;p&gt;We also need to configure Nginx file &lt;code&gt;/etc/nginx/sites-available/default&lt;/code&gt;. There are a few options for that. You can do it directly in the console using nano or emacs (you need to install the second first).&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# using nano&lt;/span&gt;
sudo nano /etc/nginx/sites-available/default

&lt;span class="c1"&gt;# using emacs&lt;/span&gt;
sudo emacs -nw /etc/nginx/sites-available/default
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;With Nano you basically need to follow the instructions at the bottom of the console. In short, use Ctrl+O to save and Ctrl+X to exit. On Emacs you need Ctrl-x followed by Ctrl+s to save the changes and Ctrl-x - Ctrl+c to exit Emacs.&lt;/p&gt;
 &lt;p&gt;You can also work directly from your GUI Emacs in your remote computer (the easiest option) using tramp with &lt;code&gt;M-x&lt;/code&gt; and the command &lt;code&gt;ssh:user@xx.xx.xx.xx|sudo::/etc/nginx/sites-enabled/default&lt;/code&gt; where &lt;code&gt;xx.xx.xx.xx&lt;/code&gt; is your IP address on the server.&lt;/p&gt;
 &lt;p&gt;Once you are in the file, search for the line that reads &lt;code&gt;server_name _;&lt;/code&gt; and replace the underscore for your domain. In my case it looks like this:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;    # Add index.php to the list if you are using PHP&lt;/span&gt;
&lt;span class="err"&gt;    index index.html index.htm index.nginx-debian.html;&lt;/span&gt;
&lt;span class="err"&gt;    server_name apps.rwhitedwarf.com;&lt;/span&gt;
&lt;span class="err"&gt;    location / {...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;div class="article-image-container"&gt;
  &lt;a href="../../../../post/2023/deploy_shiny_on_debian/Nginx-server_name.png"&gt;&lt;img alt="Domain in Nginx" src="../../../../post/2023/deploy_shiny_on_debian/Nginx-server_name.png" /&gt;&lt;/a&gt;
 &lt;/div&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;p&gt;Save it and test nginx by executing &lt;code&gt;sudo nginx -t&lt;/code&gt;. If all is good, it should print something like below&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf &lt;span class="nb"&gt;test&lt;/span&gt; is successful
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Then reload nginx&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;systemctl&lt;/span&gt; &lt;span class="n"&gt;reload&lt;/span&gt; &lt;span class="n"&gt;nginx&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;We need to ensure that the firewall is open for it. Check with &lt;code&gt;sudo ufw status&lt;/code&gt; that Nginx is allowed, it should print something like the following&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;To                         Action      From
--                         ------      ----
OpenSSH                    ALLOW       Anywhere                  
Nginx Full                 ALLOW       Anywhere                  
OpenSSH &lt;span class="o"&gt;(&lt;/span&gt;v6&lt;span class="o"&gt;)&lt;/span&gt;               ALLOW       Anywhere &lt;span class="o"&gt;(&lt;/span&gt;v6&lt;span class="o"&gt;)&lt;/span&gt;             
Nginx Full &lt;span class="o"&gt;(&lt;/span&gt;v6&lt;span class="o"&gt;)&lt;/span&gt;            ALLOW       Anywhere &lt;span class="o"&gt;(&lt;/span&gt;v6&lt;span class="o"&gt;)&lt;/span&gt;   
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;If something is missing, execute the commands below and check the status again.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;sudo ufw allow &lt;span class="s1"&gt;'Nginx Full'&lt;/span&gt;
sudo ufw delete allow &lt;span class="s1"&gt;'Nginx HTTP'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Once all this is ready, we can proceed to obtain the SSL certificate using Certbot. Certbot provides a variety of ways to obtain SSL certificates through plugins. The Nginx plugin will take care of reconfiguring Nginx and reloading the config whenever necessary. To use this plugin, type the following:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;sudo certbot --nginx -d www.example.com
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Make sure to change &lt;code&gt;www.example.com&lt;/code&gt; for your own domain. In my case it is &lt;code&gt;sudo certbot --nginx -d apps.rwhitedwarf.com&lt;/code&gt;. If this is your first time running certbot, you will be prompted to enter an email address and agree to the terms of service. After doing so, certbot will communicate with the Let's Encrypt server, then run a challenge to verify that you control the domain you're requesting a certificate for.&lt;/p&gt;
 &lt;p&gt;The configuration will be updated, and Nginx will reload to pick up the new settings. certbot will wrap up with a message telling you the process was successful and where your certificates are stored:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Congratulations! You have successfully enabled https://apps.rwhitedwarf.com
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Subscribe to the EFF mailing list &lt;span class="o"&gt;(&lt;/span&gt;email: user@example.com&lt;span class="o"&gt;)&lt;/span&gt;.

IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/example.com/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/example.com/fullchain.pem
   Your certificate will expire on &lt;span class="m"&gt;2022&lt;/span&gt;-01-01. To obtain a new or
   tweaked version of this certificate in the future, simply run
   certbot again with the &lt;span class="s2"&gt;"certonly"&lt;/span&gt; option. To non-interactively
   renew *all* of your certificates, run &lt;span class="s2"&gt;"certbot renew"&lt;/span&gt;
 - If you like Certbot, please consider supporting our work by:

   Donating to ISRG / Let&lt;span class="err"&gt;'&lt;/span&gt;s Encrypt:   https://letsencrypt.org/donate
   Donating to EFF:                    https://eff.org/donate-le
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Your certificates are downloaded, installed, and loaded. Try reloading your website using https:// this time and notice your browser's security indicator. Now it should indicate that the site is properly secured.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Install R and Packages as sudo&lt;/h3&gt;
 &lt;p&gt;First we install R, as we usually do in Debian&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install r-base
sudo apt install libcurl4-gnutls-dev libxml2-dev libssl-dev
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;The second line installs some libraries that are recommended or, in some cases necessary by some R packages. In case that you are installing on a cloud service these might already be installed, while a minimal Debian installation might not. You can run the command either way and &lt;code&gt;apt&lt;/code&gt; will inform you if they're already installed.&lt;/p&gt;
 &lt;p&gt;As for the rest of the packages, we have two options, considering that we want to install as &lt;code&gt;sudo&lt;/code&gt;.&lt;/p&gt;
 &lt;h4 class="article-header"&gt;Install directly from the terminal.&lt;/h4&gt;
 &lt;p&gt;As an example&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;sudo su - -c &lt;span class="s2"&gt;"R -e \"install.packages('shiny', repos='http://cran.rstudio.com/')\""&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;h4 class="article-header"&gt;Install from within R.&lt;/h4&gt;
 &lt;p&gt;Open R as sudo using &lt;code&gt;sudo -i R&lt;/code&gt;. Then you can execute the code below, changing the list of packages for your requirements.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;my_packages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"RJSONIO"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"maps"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"stringr"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"rhandsontable"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"shinyjs"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;install_if_missing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nf"&gt;if &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;%in%&lt;/span&gt; &lt;span class="nf"&gt;rownames&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;installed.packages&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dependencies&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="n"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nf"&gt;cat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Skipping already installed package:"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"\n"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nf"&gt;sapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;my_packages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;install_if_missing&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;I specially recommend you to install &lt;code&gt;rmarkdown&lt;/code&gt; and &lt;code&gt;quarto&lt;/code&gt; packages, as they work very well with Shiny server.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Install Shiny server&lt;/h3&gt;
 &lt;p&gt;Firs of all go to Go to the &lt;a href="https://posit.co/download/shiny-server/"&gt;download page&lt;/a&gt; for the latest version. Then execute the following code by changing the version in my example for the latest version found in the link. Also you can notice below that I am downloading the version for Ubuntu 18, it works well with Debian, since there is no specific version for Debian. Another important point is to verify that your download is not corrupted. The &lt;code&gt;sha256sum&lt;/code&gt; command should return a key that must match with the one shown in the website.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install gdebi-core
wget https://download3.rstudio.org/ubuntu-18.04/x86_64/shiny-server-1.5.20.1002-amd64.deb

&lt;span class="c1"&gt;# verify integrity&lt;/span&gt;
sha256sum shiny-server-1.5.20.1002-amd64.deb

&lt;span class="c1"&gt;# install using gdebi&lt;/span&gt;
sudo gdebi shiny-server-1.5.20.1002-amd64.deb
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Finally, if all is correct, install using &lt;code&gt;gdebi&lt;/code&gt;.&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Configure Nginx&lt;/h3&gt;
 &lt;p&gt;We need to replace the port numbers with the right locations in the nginx config file. Navigate to the &lt;code&gt;/etc/nginx/sites-enabled/&lt;/code&gt; and open the file &lt;code&gt;default&lt;/code&gt;. As before, you can do it directly in the console using nano or emacs.&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# using nano&lt;/span&gt;
sudo nano /etc/nginx/sites-enabled/default
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Once you have the file open, search for the line that reads &lt;code&gt;server {&lt;/code&gt; at the begining, and place above that line the following:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;map $http_upgrade $connection_upgrade {&lt;/span&gt;
&lt;span class="err"&gt;  default upgrade;&lt;/span&gt;
&lt;span class="err"&gt;  ''      close;&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Then look for the line that reads &lt;code&gt;server_name _;&lt;/code&gt; or, if you followed the steps above to add SSL certificate, it should now have your server name instead of &lt;code&gt;_&lt;/code&gt;. Whichever it is, place right after it the following block:&lt;/p&gt;
 &lt;pre&gt;&lt;code class="highlight"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;location /shiny/ {&lt;/span&gt;
&lt;span class="err"&gt;  proxy_pass http://127.0.0.1:3838/;&lt;/span&gt;
&lt;span class="err"&gt;  proxy_http_version 1.1;&lt;/span&gt;
&lt;span class="err"&gt;  proxy_set_header Upgrade $http_upgrade;&lt;/span&gt;
&lt;span class="err"&gt;  proxy_set_header Connection "upgrade"; &lt;/span&gt;
&lt;span class="err"&gt;  rewrite ^(/shiny/[^/]+)$ $1/ permanent;&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
 &lt;p&gt;Now we need to test it with &lt;code&gt;sudo nginx -t&lt;/code&gt; in the terminal. If the messages shows no error, then activate the changes by restarting Nginx with &lt;code&gt;sudo systemctl restart nginx&lt;/code&gt;.&lt;/p&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;div class="article-image-container"&gt;
  &lt;a href="../../../../post/2023/deploy_shiny_on_debian/Screenshot_Nginx-config-nano.png"&gt;&lt;img alt="Nginx configured in Nano" src="../../../../post/2023/deploy_shiny_on_debian/Screenshot_Nginx-config-nano.png" /&gt;&lt;/a&gt;
 &lt;/div&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;p&gt;At this point you should be able to see the Shiny Welcome page in your ip address or your domain ending in &lt;code&gt;/shiny/&lt;/code&gt;. In my case it is https://apps.rwhitedwarf.com/shiny/ .&lt;/p&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;div class="article-image-container"&gt;
  &lt;a href="../../../../post/2023/deploy_shiny_on_debian/Screenshot_Shiny-welcome.png"&gt;&lt;img alt="Shiny welcome page" src="../../../../post/2023/deploy_shiny_on_debian/Screenshot_Shiny-welcome.png" /&gt;&lt;/a&gt;
 &lt;/div&gt;
 &lt;p&gt;&lt;/p&gt;
 &lt;h3 class="article-header"&gt;Add your own apps&lt;/h3&gt;
 &lt;p&gt;Now you can start adding shiny apps in the path &lt;code&gt;/srv/shiny-server/&lt;/code&gt;. If you navigate there you can see that there is already a folder called &lt;code&gt;sample-apps&lt;/code&gt;. Inside it you have the folder &lt;code&gt;hello&lt;/code&gt; which is a sample shiny app. If you navigate to your address &lt;code&gt;/shiny/sample-apps/hello&lt;/code&gt; you should see that app deployed (https://apps.rwhitedwarf.com/shiny/sample-apps/hello/ ).&lt;/p&gt;
 &lt;p&gt;If you installed &lt;code&gt;rmarkdown&lt;/code&gt; you should also see a folder named &lt;code&gt;rmd&lt;/code&gt; within the &lt;code&gt;sample-apps&lt;/code&gt;, if you navigate to &lt;code&gt;/sample-apps/rmd&lt;/code&gt; you should be able to see the &lt;code&gt;Rmd&lt;/code&gt; file deployed. When you want to add &lt;code&gt;Rmd&lt;/code&gt; files make sure to have one &lt;code&gt;index.Rmd&lt;/code&gt; file and add &lt;code&gt;runtime: shiny&lt;/code&gt; to the configuration section. It works the same for quarto and &lt;code&gt;Qmd&lt;/code&gt; files if you installed it. Now you can deploy not only shiny apps but also Rmarkdown and quarto.&lt;/p&gt;
&lt;/div&gt;&lt;/article&gt;</description></item></channel></rss>